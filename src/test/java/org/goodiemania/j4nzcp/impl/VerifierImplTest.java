package org.goodiemania.j4nzcp.impl;

import org.goodiemania.j4nzcp.Nzcp4JException;
import org.goodiemania.j4nzcp.exception.InvalidVersionException;
import org.junit.jupiter.api.Assertions;
import org.junit.jupiter.api.Test;

class VerifierImplTest {
    final static String VALID_TEXT = "NZCP:/1/2KCEVIQEIVVWK6JNGEASNICZAEP2KALYDZSGSZB2O5SWEOTOPJRXALTDN53GSZBRHEXGQZLBNR2GQLTOPICRUYMBTIFAIGTUKBAAUYTWMOSGQQDDN5XHIZLYOSBHQJTIOR2HA4Z2F4XXO53XFZ3TGLTPOJTS6MRQGE4C6Y3SMVSGK3TUNFQWY4ZPOYYXQKTIOR2HA4Z2F4XW46TDOAXGG33WNFSDCOJONBSWC3DUNAXG46RPMNXW45DFPB2HGL3WGFTXMZLSONUW63TFGEXDALRQMR2HS4DFQJ2FMZLSNFTGSYLCNRSUG4TFMRSW45DJMFWG6UDVMJWGSY2DN53GSZCQMFZXG4LDOJSWIZLOORUWC3CTOVRGUZLDOSRWSZ3JOZSW4TTBNVSWISTBMNVWUZTBNVUWY6KOMFWWKZ2TOBQXE4TPO5RWI33CNIYTSNRQFUYDILJRGYDVAYFE6VGU4MCDGK7DHLLYWHVPUS2YIDJOA6Y524TD3AZRM263WTY2BE4DPKIF27WKF3UDNNVSVWRDYIYVJ65IRJJJ6Z25M2DO4YZLBHWFQGVQR5ZLIWEQJOZTS3IQ7JTNCFDX";
    final static String INVALID_VERSION = "NZCP:/2/2KCEVIQEIVVWK6JNGEASNICZAEP2KALYDZSGSZB2O5SWEOTOPJRXALTDN53GSZBRHEXGQZLBNR2GQLTOPICRUYMBTIFAIGTUKBAAUYTWMOSGQQDDN5XHIZLYOSBHQJTIOR2HA4Z2F4XXO53XFZ3TGLTPOJTS6MRQGE4C6Y3SMVSGK3TUNFQWY4ZPOYYXQKTIOR2HA4Z2F4XW46TDOAXGG33WNFSDCOJONBSWC3DUNAXG46RPMNXW45DFPB2HGL3WGFTXMZLSONUW63TFGEXDALRQMR2HS4DFQJ2FMZLSNFTGSYLCNRSUG4TFMRSW45DJMFWG6UDVMJWGSY2DN53GSZCQMFZXG4LDOJSWIZLOORUWC3CTOVRGUZLDOSRWSZ3JOZSW4TTBNVSWISTBMNVWUZTBNVUWY6KOMFWWKZ2TOBQXE4TPO5RWI33CNIYTSNRQFUYDILJRGYDVAYFE6VGU4MCDGK7DHLLYWHVPUS2YIDJOA6Y524TD3AZRM263WTY2BE4DPKIF27WKF3UDNNVSVWRDYIYVJ65IRJJJ6Z25M2DO4YZLBHWFQGVQR5ZLIWEQJOZTS3IQ7JTNCFDX";

    @Test
    void test() throws Nzcp4JException {
        VerifierImpl verifier = new VerifierImpl();
        verifier.verify(VALID_TEXT);
    }

    @Test
    void check_invalid_version_throws_exception() {
        VerifierImpl verifier = new VerifierImpl();
        Assertions.assertThrows(InvalidVersionException.class, () -> verifier.verify(INVALID_VERSION));
    }

    @Test
    void test2() throws Nzcp4JException {
        VerifierImpl verifier = new VerifierImpl();
        verifier.verify("NZCP:/1/2KCE3IQEJB5DCMSLMY3VKUIBE2QFSAJCUUAXQH3ENFSDU53FMI5G46TDOAXGSZDFNZ2GS5DZFZUGKYLMORUC43T2AUNGDE4PGACBUYUCHTAGE5TDURUEAY3PNZ2GK6DUQJ4CM2DUORYHGORPF53XO5ZOO4ZS433SM4XTEMBRHAXWG4TFMRSW45DJMFWHGL3WGF4CU2DUORYHGORPF5XHUY3QFZRW65TJMQYTSLTIMVQWY5DIFZXHUL3DN5XHIZLYORZS65RRM53GK4TTNFXW4ZJRFYYC4MDEOR4XAZMCORLGK4TJMZUWCYTMMVBXEZLEMVXHI2LBNRXVA5LCNRUWGQ3POZUWIUDBONZXCY3SMVSGK3TUNFQWYU3VMJVGKY3UUNUWO2LWMVXE4YLNMVTFISCPJVAVG2TGMFWWS3DZJZQW2ZLHI5HU6RCXJFHGGZDPMJVDCOJYHAWTAMZNGAZAOUG3VYI3OGAFIS6K45TSIYVYVEBJLBACZNNZB344MT4UOYO7D7AR2MEPIPUMDEUU4OTLOYFN4U5YD7BDROGPQJQSKNCPVFINI3NZBSZ4DTLP3IXCEDNUWOCKTPRM5IGZQBIU6U");
    }
}